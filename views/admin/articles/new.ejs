<%- include('../../partials/header.ejs') %>
<body>
    <%- include('../../partials/navbar.ejs') %>
    <div class="container">
        <hr>
        <div class="card">
            <div class="card-title">
                <h2>Novo artigo</h2>
            </div>
            <div class="card-body">
                <form action="/articles/save" method="POST">
                    <input class="form-control" type="text" name="title" placeholder="Defina o titulo do artigo"><br>
                    <textarea class= "form-control" name="body" placeholder="Escreva o artigo aqui!" id="article"></textarea><br>
                    <label>Categoria</label>
                    <select class="form-control" name="category">
                        <% categories.forEach(function(category) { %>
                            <option value="<%= category.id %>"><%= category.title %></option>
                        <% }); %>
                    </select><br>
                    <button class="btn btn-success">Publicar</button>
                </form>
            </div>
        </div>
    </div>
</body>
<script src="/tinymce/js/tinymce/tinymce.min.js"></script>
<script>
    console.log('tinymce loaded');
    tinymce.init({
        selector: '#article',
        height: 300,
        menubar: false,
        license_key: 'gpl',
        plugins: [
            'advlist autolink lists link image charmap print preview anchor',
            'searchreplace visualblocks code fullscreen',
            'insertdatetime media table paste code help wordcount'
        ],
        toolbar: 'undo redo | formatselect | ' +
            'bold italic backcolor | alignleft aligncenter ' +
            'alignright alignjustify | bullist numlist outdent indent | ' +
            'removeformat | help',
        content_style: 'body { font-family:Helvetica,Arial,sans-serif; font-size:14px }'
    });
</script>
<%- include('../../partials/footer.ejs') %>